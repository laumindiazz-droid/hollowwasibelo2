<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cargando con Amor 游눘</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      /* Aqu칤 llamamos a tu imagen personalizada */
      background: url("fondito.png") no-repeat center center fixed;
      background-size: cover;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    #loading-screen {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: #fff;
      /* Oscurece un poquito el fondo para que los corazones resalten */
      backdrop-filter: blur(5px);
      background: rgba(0, 0, 0, 0.4);
    }

    .hearts-container {
      display: flex;
      gap: 20px;
      margin-bottom: 30px;
    }

    .heart-box {
      font-size: 55px;
      cursor: pointer;
      position: relative;
      user-select: none;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      filter: grayscale(100%) brightness(40%);
    }

    #romantic-text {
      font-size: 24px;
      font-weight: bold;
      color: #ffffff;
      margin: 20px;
      height: 40px;
      opacity: 0;
      transition: opacity 0.8s ease-in-out;
      text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
    }

    #play-btn, #ready-btn {
      padding: 18px 40px;
      border: none;
      border-radius: 50px;
      background: linear-gradient(45deg, #ff7eb9, #ff1168);
      color: white;
      font-size: 22px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
      transition: transform 0.2s;
      z-index: 10;
    }

    #play-btn:hover, #ready-btn:hover {
      transform: scale(1.1);
    }

    canvas#petals {
      position: absolute;
      top: 0; left: 0;
      pointer-events: none;
      z-index: 1;
    }
  </style>
</head>
<body>

  <audio id="bg-music" src="muzika.mp3" loop></audio>

  <button id="play-btn">Empezar con Amor 游눙</button>

  <div id="loading-screen">
    <div class="hearts-container">
      <div class="heart-box" data-index="0">仇벒잺</div>
      <div class="heart-box" data-index="1">仇벒잺</div>
      <div class="heart-box" data-index="2">仇벒잺</div>
      <div class="heart-box" data-index="3">仇벒잺</div>
      <div class="heart-box" data-index="4">仇벒잺</div>
    </div>

    <div id="romantic-text"></div>
    <button id="ready-btn" style="display:none;">쯃isto? 游</button>
  </div>

  <canvas id="petals"></canvas>

  <script>
    const playBtn = document.getElementById("play-btn");
    const loadingScreen = document.getElementById("loading-screen");
    const bgMusic = document.getElementById("bg-music");
    const hearts = document.querySelectorAll(".heart-box");
    const romanticText = document.getElementById("romantic-text");
    const readyBtn = document.getElementById("ready-btn");

    const frases = [
      "Eres mi raz칩n para sonre칤r 游눘",
      "Tu amor es mi lugar favorito 游꺛",
      "Cada d칤a contigo es especial 游눪",
      "Eres mi hoy y todos mis ma침anas 游",
      "Te amo m치s de lo que imaginas 游눚"
    ];

    let currentHeart = 0;
    let clicks = 0;
    const clicksPerHeart = 5;

    playBtn.onclick = () => {
      playBtn.style.display = "none";
      loadingScreen.style.display = "flex";
      bgMusic.play();
      startPetals();
    };

    hearts.forEach((heart, index) => {
      heart.onclick = () => {
        if (index !== currentHeart) return;
        clicks++;
        
        // Iluminaci칩n gradual de los emojis
        let gray = 100 - (clicks * 20);
        let bright = 40 + (clicks * 12);
        heart.style.filter = `grayscale(${gray}%) brightness(${bright}%)`;
        heart.style.transform = `scale(${1 + (clicks * 0.05)})`;

        if (clicks === clicksPerHeart) {
          heart.style.filter = `grayscale(0%) brightness(120%)`;
          romanticText.innerText = frases[currentHeart];
          romanticText.style.opacity = 1;

          let tempIndex = currentHeart;
          currentHeart = -1; 

          setTimeout(() => {
            romanticText.style.opacity = 0;
            clicks = 0;
            currentHeart = tempIndex + 1;
            if (currentHeart === hearts.length) readyBtn.style.display = "block";
          }, 2500);
        }
      };
    });

    function startPetals() {
      const canvas = document.getElementById("petals");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      let pArray = [];
      for(let i=0; i<45; i++) pArray.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, r:Math.random()*4+2, d:Math.random()*1.2+0.5, v:Math.random()*1-0.5});
      
      function draw() {
        ctx.clearRect(0,0,canvas.width, canvas.height);
        ctx.fillStyle = "rgba(255, 192, 203, 0.8)";
        pArray.forEach(p => {
          ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fill();
          p.y += p.d; p.x += p.v;
          if(p.y > canvas.height) { p.y = -10; p.x = Math.random()*canvas.width; }
        });
        requestAnimationFrame(draw);
      }
      draw();
    }
  </script>
</body>
</html>
